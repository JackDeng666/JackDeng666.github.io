"use strict";(self.webpackChunkying_blog=self.webpackChunkying_blog||[]).push([[6410],{5340:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>s,default:()=>_,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var t=n(3274),a=n(9128);const i={id:"Gitea",sidebar_label:"Gitea \u8f7b\u91cf\u7ea7\u4ee3\u7801\u4ed3\u5e93",title:"docker \u4f7f\u7528 Gitea \u8f7b\u91cf\u7ea7\u4ee3\u7801\u4ed3\u5e93"},s=void 0,o={id:"docker/images/Gitea",title:"docker \u4f7f\u7528 Gitea \u8f7b\u91cf\u7ea7\u4ee3\u7801\u4ed3\u5e93",description:"Gitea \u7684 Docker \u90e8\u7f72\u5b98\u65b9\u6587\u6863",source:"@site/docs/docker/04-images/04.gitea.md",sourceDirName:"docker/04-images",slug:"/docker/images/Gitea",permalink:"/docs/docker/images/Gitea",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"Gitea",sidebar_label:"Gitea \u8f7b\u91cf\u7ea7\u4ee3\u7801\u4ed3\u5e93",title:"docker \u4f7f\u7528 Gitea \u8f7b\u91cf\u7ea7\u4ee3\u7801\u4ed3\u5e93"},sidebar:"docker",previous:{title:"MinIO \u5bf9\u8c61\u5b58\u50a8\u670d\u52a1",permalink:"/docs/docker/images/minio"}},c={},l=[{value:"docker compose \u542f\u52a8\u5bb9\u5668",id:"docker-compose-\u542f\u52a8\u5bb9\u5668",level:3},{value:"Gitea \u914d\u7f6e\u4fee\u6539",id:"gitea-\u914d\u7f6e\u4fee\u6539",level:3}];function d(e){const r={a:"a",code:"code",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"https://docs.gitea.com/next/zh-cn/installation/install-with-docker",children:"Gitea \u7684 Docker \u90e8\u7f72\u5b98\u65b9\u6587\u6863"})}),"\n",(0,t.jsx)(r.h3,{id:"docker-compose-\u542f\u52a8\u5bb9\u5668",children:"docker compose \u542f\u52a8\u5bb9\u5668"}),"\n",(0,t.jsx)(r.p,{children:"\u6211\u8fd9\u91cc\u76f4\u63a5\u4f7f\u7528 mysql \u505a\u6570\u636e\u5b58\u50a8"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-yml",children:"version: '3'\r\n\r\nnetworks:\r\n  gitea:\r\n    external: false\r\n\r\nservices:\r\n  server:\r\n    image: gitea/gitea:latest\r\n    container_name: gitea\r\n    environment:\r\n      - USER_UID=1000\r\n      - USER_GID=1000\r\n      - DB_TYPE=mysql\r\n      - DB_HOST=db:3306\r\n      - DB_NAME=gitea\r\n      - DB_USER=gitea\r\n      - DB_PASSWD=gitea\r\n    restart: always\r\n    networks:\r\n      - gitea\r\n    volumes:\r\n      - /giteadata:/data\r\n      - /etc/timezone:/etc/timezone:ro\r\n      - /etc/localtime:/etc/localtime:ro\r\n    ports:\r\n      - '3000:3000'\r\n      - '2222:22'\r\n    depends_on:\r\n      - db\r\n\r\n  db:\r\n    image: mysql:5.7\r\n    restart: always\r\n    environment:\r\n      - MYSQL_ROOT_PASSWORD=gitea\r\n      - MYSQL_USER=gitea\r\n      - MYSQL_PASSWORD=gitea\r\n      - MYSQL_DATABASE=gitea\r\n    networks:\r\n      - gitea\r\n    volumes:\r\n      - /giteamysql:/var/lib/mysql\n"})}),"\n",(0,t.jsx)(r.h3,{id:"gitea-\u914d\u7f6e\u4fee\u6539",children:"Gitea \u914d\u7f6e\u4fee\u6539"}),"\n",(0,t.jsx)(r.p,{children:"\u914d\u7f6e\u5b8c\u540e\u53ef\u5728\u5bf9\u5e94\u7684 data \u6587\u4ef6\u4fee\u6539 gitea \u5404\u79cd\u914d\u7f6e"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.code,{children:"/giteadata/gitea/conf/app.ini"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ini",children:"APP_NAME = Gitea: Git with a cup of tea\r\nRUN_MODE = prod\r\nRUN_USER = git\r\nWORK_PATH = /data/gitea\r\n\r\n[repository]\r\nROOT = /data/git/repositories\r\n\r\n[repository.local]\r\nLOCAL_COPY_PATH = /data/gitea/tmp/local-repo\r\n\r\n[repository.upload]\r\nTEMP_PATH = /data/gitea/uploads\r\n\r\n[server]\r\nAPP_DATA_PATH = /data/gitea\r\nDOMAIN = git.xxx.com\r\nSSH_DOMAIN = git.xxx.com\r\nHTTP_PORT = 3000\r\nROOT_URL = http://git.xxx.com/\r\nDISABLE_SSH = false\r\nSSH_PORT = 2222\r\nSSH_LISTEN_PORT = 22\r\nLFS_START_SERVER = true\r\nLFS_JWT_SECRET = JPTLZR38lyuTqmtkTA_As-2zmg_1O-SSQ6MIP58-YMk\r\nOFFLINE_MODE = false\r\n\r\n[database]\r\nPATH = /data/gitea/gitea.db\r\nDB_TYPE = mysql\r\nHOST = db:3306\r\nNAME = gitea\r\nUSER = gitea\r\nPASSWD = gitea\r\nLOG_SQL = false\r\nSCHEMA =\r\nSSL_MODE = disable\r\n\r\n[indexer]\r\nISSUE_INDEXER_PATH = /data/gitea/indexers/issues.bleve\r\n\r\n[session]\r\nPROVIDER_CONFIG = /data/gitea/sessions\r\nPROVIDER = file\r\n\r\n[picture]\r\nAVATAR_UPLOAD_PATH = /data/gitea/avatars\r\nREPOSITORY_AVATAR_UPLOAD_PATH = /data/gitea/repo-avatars\r\n\r\n[attachment]\r\nPATH = /data/gitea/attachments\r\n\r\n[log]\r\nMODE = console\r\nLEVEL = info\r\nROOT_PATH = /data/gitea/log\r\n\r\n[security]\r\nINSTALL_LOCK = true\r\nSECRET_KEY =\r\nREVERSE_PROXY_LIMIT = 1\r\nREVERSE_PROXY_TRUSTED_PROXIES = *\r\nINTERNAL_TOKEN = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYmYiOjE3MDMwODI1MDJ9.-91g2qNfWq5pGMwwtm5ZLQX16I_iQqPv_d2r5DtA67s\r\nPASSWORD_HASH_ALGO = pbkdf2\r\n\r\n[service]\r\nDISABLE_REGISTRATION = true\r\nREQUIRE_SIGNIN_VIEW = false\r\nREGISTER_EMAIL_CONFIRM = false\r\nENABLE_NOTIFY_MAIL = false\r\nALLOW_ONLY_EXTERNAL_REGISTRATION = false\r\nENABLE_CAPTCHA = false\r\nDEFAULT_KEEP_EMAIL_PRIVATE = false\r\nDEFAULT_ALLOW_CREATE_ORGANIZATION = true\r\nDEFAULT_ENABLE_TIMETRACKING = true\r\nNO_REPLY_ADDRESS = noreply.localhost\r\n\r\n[lfs]\r\nPATH = /data/git/lfs\r\n\r\n[mailer]\r\nENABLED = false\r\n\r\n[openid]\r\nENABLE_OPENID_SIGNIN = true\r\nENABLE_OPENID_SIGNUP = true\r\n\r\n[cron.update_checker]\r\nENABLED = false\r\n\r\n[repository.pull-request]\r\nDEFAULT_MERGE_STYLE = merge\r\n\r\n[repository.signing]\r\nDEFAULT_TRUST_MODEL = committer\r\n\r\n[oauth2]\r\nJWT_SECRET = 4G6N3Jl-q-04eOnddkXBIKUYSQODFGFJRCE9vege_zo\n"})})]})}function _(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},9128:(e,r,n)=>{n.d(r,{R:()=>s,x:()=>o});var t=n(9474);const a={},i=t.createContext(a);function s(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);