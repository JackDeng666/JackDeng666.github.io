"use strict";(self.webpackChunkying_blog=self.webpackChunkying_blog||[]).push([[5042],{9613:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>g});var r=t(9496);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=r.createContext({}),p=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},u=function(e){var n=p(e.components);return r.createElement(l.Provider,{value:n},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=p(t),m=o,g=c["".concat(l,".").concat(m)]||c[m]||d[m]||a;return t?r.createElement(g,s(s({ref:n},u),{},{components:t})):r.createElement(g,s({ref:n},u))}));function g(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,s=new Array(a);s[0]=m;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i[c]="string"==typeof e?e:o,s[1]=i;for(var p=2;p<a;p++)s[p]=t[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},8684:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>p});var r=t(8957),o=(t(9496),t(9613));const a={id:"docking-login-api",sidebar_label:"\u524d\u7aef\u5bf9\u63a5\u767b\u5f55\u63a5\u53e3",title:"\u524d\u7aef\u5bf9\u63a5\u767b\u5f55\u63a5\u53e3"},s=void 0,i={unversionedId:"ying-chat/docking-login-api",id:"ying-chat/docking-login-api",title:"\u524d\u7aef\u5bf9\u63a5\u767b\u5f55\u63a5\u53e3",description:"\u672c\u8282\u6765\u5b9e\u73b0\u524d\u7aef\u5bf9\u63a5\u6574\u4e2a\u767b\u5f55\u63a5\u53e3\uff0c\u5e76\u5b9e\u73b0\u524d\u7aef\u7684\u8def\u7531\u5b88\u536b\uff0c\u5373\u53ea\u6709\u767b\u5f55\u540e\u7528\u6237\u624d\u80fd\u8bbf\u95ee\u4e3b\u9875\u9762\uff0c\u672a\u767b\u9646\u524d\u53ea\u80fd\u8bbf\u95ee\u767b\u5f55\u548c\u6ce8\u518c\u9875\u9762\u3002",source:"@site/docs/ying-chat/11-docking-login-api.md",sourceDirName:"ying-chat",slug:"/ying-chat/docking-login-api",permalink:"/docs/ying-chat/docking-login-api",draft:!1,tags:[],version:"current",sidebarPosition:11,frontMatter:{id:"docking-login-api",sidebar_label:"\u524d\u7aef\u5bf9\u63a5\u767b\u5f55\u63a5\u53e3",title:"\u524d\u7aef\u5bf9\u63a5\u767b\u5f55\u63a5\u53e3"},sidebar:"yingChat",previous:{title:"\u767b\u5f55\u4e0e\u9274\u6743\u5b9e\u73b0",permalink:"/docs/ying-chat/login-and-auth-api"},next:{title:"\u4fee\u6539\u7528\u6237\u4fe1\u606f\u529f\u80fd\u6dfb\u52a0",permalink:"/docs/ying-chat/update-userinfo"}},l={},p=[{value:"\u6dfb\u52a0\u63a5\u53e3",id:"\u6dfb\u52a0\u63a5\u53e3",level:3},{value:"\u4f7f\u7528 zustand \u8fdb\u884c\u72b6\u6001\u7ba1\u7406",id:"\u4f7f\u7528-zustand-\u8fdb\u884c\u72b6\u6001\u7ba1\u7406",level:3},{value:"\u5bf9\u63a5\u767b\u5f55\u63a5\u53e3",id:"\u5bf9\u63a5\u767b\u5f55\u63a5\u53e3",level:3},{value:"\u6dfb\u52a0\u8def\u7531\u5b88\u536b\u903b\u8f91",id:"\u6dfb\u52a0\u8def\u7531\u5b88\u536b\u903b\u8f91",level:3},{value:"\u6dfb\u52a0\u9000\u51fa\u767b\u5f55\u529f\u80fd",id:"\u6dfb\u52a0\u9000\u51fa\u767b\u5f55\u529f\u80fd",level:3}],u={toc:p},c="wrapper";function d(e){let{components:n,...a}=e;return(0,o.kt)(c,(0,r.Z)({},u,a,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"\u672c\u8282\u6765\u5b9e\u73b0\u524d\u7aef\u5bf9\u63a5\u6574\u4e2a\u767b\u5f55\u63a5\u53e3\uff0c\u5e76\u5b9e\u73b0\u524d\u7aef\u7684\u8def\u7531\u5b88\u536b\uff0c\u5373\u53ea\u6709\u767b\u5f55\u540e\u7528\u6237\u624d\u80fd\u8bbf\u95ee\u4e3b\u9875\u9762\uff0c\u672a\u767b\u9646\u524d\u53ea\u80fd\u8bbf\u95ee\u767b\u5f55\u548c\u6ce8\u518c\u9875\u9762\u3002"),(0,o.kt)("h3",{id:"\u6dfb\u52a0\u63a5\u53e3"},"\u6dfb\u52a0\u63a5\u53e3"),(0,o.kt)("p",null,"\u5148\u5f80",(0,o.kt)("inlineCode",{parentName:"p"},"shared"),"\u91cc\u6dfb\u52a0\u4e00\u4e2a",(0,o.kt)("inlineCode",{parentName:"p"},"vo"),"\u6587\u4ef6\u5939\uff0c\u518d\u6dfb\u52a0\u51e0\u4e2a",(0,o.kt)("inlineCode",{parentName:"p"},"vo"),"\u5bf9\u8c61\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="packages/shared/src/vo/user.vo.ts"',title:'"packages/shared/src/vo/user.vo.ts"'},"export type UserVo = {\n  id: number\n  username: string\n  email: string\n  nickname: string\n  createAt: string\n  updateAt: string\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="packages/shared/src/vo/login.vo.ts"',title:'"packages/shared/src/vo/login.vo.ts"'},"import { UserVo } from './user.vo'\n\nexport type LoginVo = {\n  token: string\n  user: UserVo\n}\n")),(0,o.kt)("p",null,"\u65b0\u5efa\u4e00\u4e2a ",(0,o.kt)("inlineCode",{parentName:"p"},"index.ts")," \u5bfc\u51fa\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="packages/shared/src/vo/index.ts"',title:'"packages/shared/src/vo/index.ts"'},"export * from './login.vo'\nexport * from './user.vo'\n")),(0,o.kt)("p",null,"\u6574\u4f53\u5bfc\u51fa vo \u6a21\u5757\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="packages/shared/src/index.ts"',title:'"packages/shared/src/index.ts"'},"// ...\nexport * from './vo'\n")),(0,o.kt)("p",null,"\u7136\u540e\u6dfb\u52a0\u5bf9\u5e94\u7684\u63a5\u53e3\u51fd\u6570\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="apps/client/src/api/auth.ts"',title:'"apps/client/src/api/auth.ts"'},"import { LoginDto, LoginVo, RegisterDto } from '@ying-chat/shared'\n// ...\n\nexport async function getCaptcha(uid: string): Promise<string> {\n  return request.get('auth/catpcha', {\n    params: { uid },\n    headers: { Accept: 'text/plain' }\n  })\n}\n\nexport function login(body: LoginDto): Promise<LoginVo> {\n  return request.post('/auth/login', body)\n}\n\nexport function logout() {\n  return request.get('/auth/logout')\n}\n")),(0,o.kt)("p",null,"\u518d\u5b9e\u73b0\u4e00\u4e2a\u901a\u7528\u7684",(0,o.kt)("inlineCode",{parentName:"p"},"useApi"),"hook\uff0c\u540e\u9762\u6240\u6709\u548c\u83b7\u53d6\u76f8\u5173\u7684\u63a5\u53e3\u90fd\u53ef\u4ee5\u7528\u8fd9\u4e2a hook\uff0c\u5c31\u4e0d\u7528\u91cd\u590d\u53bb\u5199\u8bbe\u7f6e\u6570\u636e\u548c loading \u72b6\u6001\u7684 state \u4e86\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="apps/client/src/api/use-api.ts"',title:'"apps/client/src/api/use-api.ts"'},"import { useCallback, useEffect, useState } from 'react'\n\ntype UseApiOptions<T> = {\n  func: () => Promise<T>\n  immediately?: boolean\n}\n\nexport const useApi = <T>({ func, immediately = true }: UseApiOptions<T>) => {\n  const [loading, setLoading] = useState(false)\n  const [data, setData] = useState<T>()\n\n  const run = useCallback(async () => {\n    try {\n      setLoading(true)\n      const res = await func()\n      setData(res)\n    } catch (error) {\n    } finally {\n      setLoading(false)\n    }\n  }, [func])\n\n  useEffect(() => {\n    if (immediately) run()\n  }, [run, immediately])\n\n  return {\n    loading,\n    data,\n    setData,\n    run\n  }\n}\n")),(0,o.kt)("h3",{id:"\u4f7f\u7528-zustand-\u8fdb\u884c\u72b6\u6001\u7ba1\u7406"},"\u4f7f\u7528 zustand \u8fdb\u884c\u72b6\u6001\u7ba1\u7406"),(0,o.kt)("p",null,"\u4e3a\u4e86\u65b9\u4fbf react \u91cc\u6574\u4e2a\u5e94\u7528\u80fd\u591f\u611f\u77e5\u7528\u6237\u7684\u767b\u5f55\u72b6\u6001\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"zustand")," \u8fdb\u884c\u5168\u5c40\u72b6\u6001\u7ba1\u7406\u3002"),(0,o.kt)("p",null,"\u5148\u5b89\u88c5\u4e00\u4e0b\u4f9d\u8d56\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="apps/client"',title:'"apps/client"'},"pnpm i zustand\n")),(0,o.kt)("p",null,"\u65b0\u5efa\u4e00\u4e2a",(0,o.kt)("inlineCode",{parentName:"p"},"stores"),"\u6587\u4ef6\u5939\u5e76\u5f80\u91cc\u9762\u6dfb\u52a0\u4e00\u4e2a",(0,o.kt)("inlineCode",{parentName:"p"},"use-auth-store.ts"),"\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="apps/client/src/stores/use-auth-store.ts"',title:'"apps/client/src/stores/use-auth-store.ts"'},"import { create } from 'zustand'\nimport { nanoid } from 'nanoid'\nimport { authApi } from '@/api'\nimport { toast } from 'sonner'\nimport { LoginDto, UserVo } from '@ying-chat/shared'\n\nexport const SESSION_UID = 'session-uid'\n\nexport const TOKEN = 'token'\n\nexport const USER_INFO = 'user-info'\n\nexport const useAuthStore = create(() => {\n  let sessionUid = sessionStorage.getItem(SESSION_UID) || ''\n  if (!sessionUid) {\n    sessionUid = nanoid()\n    sessionStorage.setItem(SESSION_UID, sessionUid)\n  }\n\n  const token = localStorage.getItem(TOKEN) || ''\n\n  const userInfoStr = localStorage.getItem(USER_INFO)\n  let userInfo: UserVo | null = null\n  if (userInfoStr) {\n    userInfo = JSON.parse(userInfoStr)\n  }\n\n  return {\n    sessionUid,\n    token,\n    userInfo\n  }\n})\n\nexport const setUserInfo = (userInfo: UserVo) => {\n  localStorage.setItem(USER_INFO, JSON.stringify(userInfo))\n  useAuthStore.setState({ userInfo })\n}\n\nexport const login = async (loginDto: LoginDto) => {\n  const data = await authApi.login(loginDto)\n  localStorage.setItem(TOKEN, data.token)\n  localStorage.setItem(USER_INFO, JSON.stringify(data.user))\n  useAuthStore.setState({ token: data.token, userInfo: data.user })\n}\n\nexport const logout = async () => {\n  try {\n    await authApi.logout()\n    resetAuth()\n    toast.success('logout success!')\n  } catch {}\n}\n\nexport const resetAuth = () => {\n  localStorage.removeItem(TOKEN)\n  localStorage.removeItem(USER_INFO)\n  useAuthStore.setState({ token: '', userInfo: null })\n}\n")),(0,o.kt)("p",null,"\u65b0\u5efa\u4e00\u4e2a",(0,o.kt)("inlineCode",{parentName:"p"},"index.ts"),"\u5bfc\u51fa\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="apps/client/src/stores/index.ts"',title:'"apps/client/src/stores/index.ts"'},"export * from './use-auth-store'\n")),(0,o.kt)("h3",{id:"\u5bf9\u63a5\u767b\u5f55\u63a5\u53e3"},"\u5bf9\u63a5\u767b\u5f55\u63a5\u53e3"),(0,o.kt)("p",null,"\u5728\u767b\u5f55\u9875\u9762\u91cc\u6309\u7167\u4e4b\u524d\u6ce8\u518c\u9875\u9762\u7684\u903b\u8f91\u628a\u6821\u9a8c\u5199\u4e86\uff0c\u7136\u540e\u767b\u5f55\u5c31\u76f4\u63a5\u4f7f\u7528",(0,o.kt)("inlineCode",{parentName:"p"},"AuthStore"),"\u91cc\u7684\u767b\u5f55\u51fd\u6570\u5373\u53ef\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="apps/client/src/pages/account/login.tsx"',title:'"apps/client/src/pages/account/login.tsx"'},"import { useCallback } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardHeader,\n  Divider,\n  Input\n} from '@nextui-org/react'\nimport { CircleUserRound, Lock } from 'lucide-react'\nimport { useForm } from 'react-hook-form'\nimport { classValidatorResolver } from '@hookform/resolvers/class-validator'\nimport { toast } from 'sonner'\nimport { LoginDto } from '@ying-chat/shared'\nimport { authApi } from '@/api'\nimport { useAuthStore, login } from '@/stores'\nimport { useApi } from '@/api/use-api'\n\nconst resolver = classValidatorResolver(LoginDto)\n\nexport const Login = () => {\n  const navigate = useNavigate()\n\n  const sessionUid = useAuthStore(state => state.sessionUid)\n\n  const { data: svgData, run: getCaptcha } = useApi<string>({\n    func: useCallback(() => authApi.getCaptcha(sessionUid), [sessionUid])\n  })\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors }\n  } = useForm<LoginDto>({\n    resolver,\n    defaultValues: {\n      uid: sessionUid\n    }\n  })\n\n  const onFinish = async (values: LoginDto) => {\n    try {\n      await login(values)\n      navigate('/')\n      toast.success('login success!')\n    } catch {}\n  }\n\n  return (\n    <div className=\"h-full flex justify-center items-center\">\n      <Card className=\"w-[25rem]\">\n        <CardHeader>Login</CardHeader>\n        <Divider />\n        <CardBody>\n          <form onSubmit={handleSubmit(onFinish)}>\n            <Input\n              variant=\"underlined\"\n              label=\"loginName\"\n              autoComplete=\"loginName\"\n              endContent={<CircleUserRound />}\n              isInvalid={Boolean(errors.loginName)}\n              errorMessage={errors.loginName?.message}\n              {...register('loginName')}\n            />\n            <Input\n              label=\"Password\"\n              variant=\"underlined\"\n              endContent={<Lock />}\n              type=\"password\"\n              autoComplete=\"password\"\n              isInvalid={Boolean(errors.password)}\n              errorMessage={errors.password?.message}\n              {...register('password')}\n            />\n\n            <Input\n              label=\"Code\"\n              variant=\"underlined\"\n              maxLength={4}\n              isInvalid={Boolean(errors.code)}\n              errorMessage={errors.code?.message}\n              endContent={\n                <div\n                  className=\"bg-white cursor-pointer w-[120px] h-[40px]\"\n                  dangerouslySetInnerHTML={{ __html: svgData || '' }}\n                  onClick={getCaptcha}\n                ></div>\n              }\n              {...register('code')}\n            />\n\n            <div className=\"flex flex-col gap-4 mt-4\">\n              <Button color=\"primary\" type=\"submit\">\n                Log in\n              </Button>\n              <Button\n                onClick={() => {\n                  navigate('/register')\n                }}\n                variant=\"ghost\"\n              >\n                Register now\n              </Button>\n            </div>\n          </form>\n        </CardBody>\n      </Card>\n    </div>\n  )\n}\n")),(0,o.kt)("p",null,"\u8bb0\u5f97\u5728\u8bf7\u6c42\u62e6\u622a\u91cc\u7ed9",(0,o.kt)("inlineCode",{parentName:"p"},"headers"),"\u52a0\u4e0a",(0,o.kt)("inlineCode",{parentName:"p"},"Authorization"),"\u5b57\u6bb5\uff0c\u628a\u5b58\u5728",(0,o.kt)("inlineCode",{parentName:"p"},"localStorage"),"\u7684 token \u7ed9\u5e26\u8fc7\u53bb\uff0c\u5728\u54cd\u5e94\u62e6\u622a\u91cc\u6dfb\u52a0\u5224\u65ad\u72b6\u6001\u4e3a 401 \u5219\u91cd\u7f6e\u6388\u6743\u72b6\u6001\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="apps/client/src/api/request.ts"',title:'"apps/client/src/api/request.ts"'},"// ...\nimport { TOKEN, resetAuth } from '@/stores'\n\n// ...\n\nrequest.interceptors.request.use(config => {\n  const token = localStorage.getItem(TOKEN)\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`\n  }\n  return config\n})\n\nrequest.interceptors.response.use(\n  // ...\n  (error: AxiosError<ErrorRes>) => {\n    const res = error.response\n    if (res) {\n      if (res.status === 401) {\n        resetAuth()\n      }\n      // ...\n    }\n    return Promise.reject(error)\n  }\n)\n// ...\n")),(0,o.kt)("h3",{id:"\u6dfb\u52a0\u8def\u7531\u5b88\u536b\u903b\u8f91"},"\u6dfb\u52a0\u8def\u7531\u5b88\u536b\u903b\u8f91"),(0,o.kt)("p",null,"\u5148\u6dfb\u52a0\u4e00\u4e2a",(0,o.kt)("inlineCode",{parentName:"p"},"use-auth-route.tsx"),"\u6587\u4ef6\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="apps/client/src/router/use-auth-route.tsx"',title:'"apps/client/src/router/use-auth-route.tsx"'},"import { Navigate } from 'react-router-dom'\nimport { useAuthStore } from '@/stores'\n\nexport const useAuthRoute = (children: React.ReactElement) => {\n  const token = useAuthStore(state => state.token)\n\n  if (!token) {\n    return <Navigate to=\"/login\" />\n  }\n\n  return <>{children}</>\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="apps/client/src/components/layout/index.tsx"',title:'"apps/client/src/components/layout/index.tsx"'},"import { Outlet } from 'react-router-dom'\nimport { useAuthRoute } from '@/router/use-auth-route'\nimport { NavSidebar } from './nav-sidebar'\n\nexport const AppLayout = () => {\n  return useAuthRoute(\n    <div className=\"h-full flex flex-row\">\n      <NavSidebar />\n\n      <main className=\"h-full flex-1\">\n        <Outlet />\n      </main>\n    </div>\n  )\n}\n")),(0,o.kt)("h3",{id:"\u6dfb\u52a0\u9000\u51fa\u767b\u5f55\u529f\u80fd"},"\u6dfb\u52a0\u9000\u51fa\u767b\u5f55\u529f\u80fd"),(0,o.kt)("p",null,"\u4fee\u6539\u4e00\u4e0b ",(0,o.kt)("inlineCode",{parentName:"p"},"NavSidebar"),"\uff0c\u6dfb\u52a0\u4e00\u4e2a\u7528\u6237\u7684\u5c0f\u56fe\u6807\u5230\u5de6\u4fa7\uff0c\u70b9\u51fb\u540e\u4f1a\u51fa\u73b0\u7528\u6237\u4fe1\u606f\u5c0f\u7a97\uff0c\u7136\u540e\u5148\u628a\u9000\u51fa\u767b\u5f55\u7684\u6309\u94ae\u4e8b\u4ef6\u63a5\u4e0a\u3002"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="apps/client/src/components/layout/index.tsx"',title:'"apps/client/src/components/layout/index.tsx"'},'// ...\nimport {\n  Dropdown,\n  DropdownTrigger,\n  DropdownSection,\n  DropdownMenu,\n  DropdownItem,\n  Avatar\n} from \'@nextui-org/react\'\nimport { UserRound, FileEdit, LogOut, Users, MessageSquare } from \'lucide-react\'\nimport { useAuthStore, logout } from \'@/stores\'\n\nexport const NavSidebar = () => {\n  // ...\n\n  const userInfo = useAuthStore(state => state.userInfo)\n\n  return (\n    <div className="flex flex-col gap-4 items-center w-[72px] py-4 bg-content1">\n      {/* ... */}\n\n      <Dropdown placement="top-start" showArrow>\n        <DropdownTrigger>\n          <Avatar className="cursor-pointer h-[48px] w-[48px]" />\n        </DropdownTrigger>\n        <DropdownMenu\n          aria-label="Profile Actions"\n          disabledKeys={[\'profile\']}\n          variant="flat"\n        >\n          <DropdownSection showDivider>\n            <DropdownItem key="profile">{userInfo?.nickname}</DropdownItem>\n          </DropdownSection>\n\n          <DropdownSection showDivider>\n            <DropdownItem\n              key="user-info"\n              startContent={<UserRound className="w-5 h-5" />}\n            >\n              User Info\n            </DropdownItem>\n            <DropdownItem\n              key="change-password"\n              startContent={<FileEdit className="w-5 h-5" />}\n            >\n              Change Password\n            </DropdownItem>\n          </DropdownSection>\n\n          <DropdownItem\n            key="logout"\n            color="danger"\n            onClick={logout}\n            startContent={<LogOut className="w-5 h-5" />}\n          >\n            Log Out\n          </DropdownItem>\n        </DropdownMenu>\n      </Dropdown>\n    </div>\n  )\n}\n')),(0,o.kt)("p",null,"\u6574\u4f53\u6d4b\u8bd5\u4e00\u4e0b\u3002"),(0,o.kt)("p",null,(0,o.kt)("img",{src:t(7989).Z,width:"1920",height:"1080"})),(0,o.kt)("p",null,"\u90a3\u4e48\u672c\u8282\u5230\u6b64\u7ed3\u675f\u3002"))}d.isMDXComponent=!0},7989:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/01-b634f6d4e25d22b543fd411007a0bfb8.gif"}}]);