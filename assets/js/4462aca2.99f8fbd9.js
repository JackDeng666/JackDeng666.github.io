"use strict";(self.webpackChunkying_blog=self.webpackChunkying_blog||[]).push([[1637],{9613:(e,n,t)=>{t.d(n,{Zo:()=>E,kt:()=>g});var a=t(9496);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),c=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},E=function(e){var n=c(e.components);return a.createElement(s.Provider,{value:n},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},_=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,E=l(e,["components","mdxType","originalType","parentName"]),p=c(t),_=r,g=p["".concat(s,".").concat(_)]||p[_]||d[_]||i;return t?a.createElement(g,o(o({ref:n},E),{},{components:t})):a.createElement(g,o({ref:n},E))}));function g(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=_;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[p]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=t[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}_.displayName="MDXCreateElement"},5349:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var a=t(8957),r=(t(9496),t(9613));const i={id:"Gitea",sidebar_label:"Gitea \u8f7b\u91cf\u7ea7\u4ee3\u7801\u4ed3\u5e93",title:"docker \u4f7f\u7528 Gitea \u8f7b\u91cf\u7ea7\u4ee3\u7801\u4ed3\u5e93"},o=void 0,l={unversionedId:"docker/images/Gitea",id:"docker/images/Gitea",title:"docker \u4f7f\u7528 Gitea \u8f7b\u91cf\u7ea7\u4ee3\u7801\u4ed3\u5e93",description:"Gitea \u7684 Docker \u90e8\u7f72\u5b98\u65b9\u6587\u6863",source:"@site/docs/docker/04-images/04.gitea.md",sourceDirName:"docker/04-images",slug:"/docker/images/Gitea",permalink:"/docs/docker/images/Gitea",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"Gitea",sidebar_label:"Gitea \u8f7b\u91cf\u7ea7\u4ee3\u7801\u4ed3\u5e93",title:"docker \u4f7f\u7528 Gitea \u8f7b\u91cf\u7ea7\u4ee3\u7801\u4ed3\u5e93"},sidebar:"docker",previous:{title:"MinIO \u5bf9\u8c61\u5b58\u50a8\u670d\u52a1",permalink:"/docs/docker/images/minio"}},s={},c=[{value:"docker compose \u542f\u52a8\u5bb9\u5668",id:"docker-compose-\u542f\u52a8\u5bb9\u5668",level:3},{value:"Gitea \u914d\u7f6e\u4fee\u6539",id:"gitea-\u914d\u7f6e\u4fee\u6539",level:3}],E={toc:c},p="wrapper";function d(e){let{components:n,...t}=e;return(0,r.kt)(p,(0,a.Z)({},E,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.gitea.com/next/zh-cn/installation/install-with-docker"},"Gitea \u7684 Docker \u90e8\u7f72\u5b98\u65b9\u6587\u6863")),(0,r.kt)("h3",{id:"docker-compose-\u542f\u52a8\u5bb9\u5668"},"docker compose \u542f\u52a8\u5bb9\u5668"),(0,r.kt)("p",null,"\u6211\u8fd9\u91cc\u76f4\u63a5\u4f7f\u7528 mysql \u505a\u6570\u636e\u5b58\u50a8"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},"version: '3'\n\nnetworks:\n  gitea:\n    external: false\n\nservices:\n  server:\n    image: gitea/gitea:latest\n    container_name: gitea\n    environment:\n      - USER_UID=1000\n      - USER_GID=1000\n      - DB_TYPE=mysql\n      - DB_HOST=db:3306\n      - DB_NAME=gitea\n      - DB_USER=gitea\n      - DB_PASSWD=gitea\n    restart: always\n    networks:\n      - gitea\n    volumes:\n      - /giteadata:/data\n      - /etc/timezone:/etc/timezone:ro\n      - /etc/localtime:/etc/localtime:ro\n    ports:\n      - '3000:3000'\n      - '2222:22'\n    depends_on:\n      - db\n\n  db:\n    image: mysql:5.7\n    restart: always\n    environment:\n      - MYSQL_ROOT_PASSWORD=gitea\n      - MYSQL_USER=gitea\n      - MYSQL_PASSWORD=gitea\n      - MYSQL_DATABASE=gitea\n    networks:\n      - gitea\n    volumes:\n      - /giteamysql:/var/lib/mysql\n")),(0,r.kt)("h3",{id:"gitea-\u914d\u7f6e\u4fee\u6539"},"Gitea \u914d\u7f6e\u4fee\u6539"),(0,r.kt)("p",null,"\u914d\u7f6e\u5b8c\u540e\u53ef\u5728\u5bf9\u5e94\u7684 data \u6587\u4ef6\u4fee\u6539 gitea \u5404\u79cd\u914d\u7f6e"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"/giteadata/gitea/conf/app.ini")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"APP_NAME = Gitea: Git with a cup of tea\nRUN_MODE = prod\nRUN_USER = git\nWORK_PATH = /data/gitea\n\n[repository]\nROOT = /data/git/repositories\n\n[repository.local]\nLOCAL_COPY_PATH = /data/gitea/tmp/local-repo\n\n[repository.upload]\nTEMP_PATH = /data/gitea/uploads\n\n[server]\nAPP_DATA_PATH = /data/gitea\nDOMAIN = git.xxx.com\nSSH_DOMAIN = git.xxx.com\nHTTP_PORT = 3000\nROOT_URL = http://git.xxx.com/\nDISABLE_SSH = false\nSSH_PORT = 2222\nSSH_LISTEN_PORT = 22\nLFS_START_SERVER = true\nLFS_JWT_SECRET = JPTLZR38lyuTqmtkTA_As-2zmg_1O-SSQ6MIP58-YMk\nOFFLINE_MODE = false\n\n[database]\nPATH = /data/gitea/gitea.db\nDB_TYPE = mysql\nHOST = db:3306\nNAME = gitea\nUSER = gitea\nPASSWD = gitea\nLOG_SQL = false\nSCHEMA =\nSSL_MODE = disable\n\n[indexer]\nISSUE_INDEXER_PATH = /data/gitea/indexers/issues.bleve\n\n[session]\nPROVIDER_CONFIG = /data/gitea/sessions\nPROVIDER = file\n\n[picture]\nAVATAR_UPLOAD_PATH = /data/gitea/avatars\nREPOSITORY_AVATAR_UPLOAD_PATH = /data/gitea/repo-avatars\n\n[attachment]\nPATH = /data/gitea/attachments\n\n[log]\nMODE = console\nLEVEL = info\nROOT_PATH = /data/gitea/log\n\n[security]\nINSTALL_LOCK = true\nSECRET_KEY =\nREVERSE_PROXY_LIMIT = 1\nREVERSE_PROXY_TRUSTED_PROXIES = *\nINTERNAL_TOKEN = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYmYiOjE3MDMwODI1MDJ9.-91g2qNfWq5pGMwwtm5ZLQX16I_iQqPv_d2r5DtA67s\nPASSWORD_HASH_ALGO = pbkdf2\n\n[service]\nDISABLE_REGISTRATION = true\nREQUIRE_SIGNIN_VIEW = false\nREGISTER_EMAIL_CONFIRM = false\nENABLE_NOTIFY_MAIL = false\nALLOW_ONLY_EXTERNAL_REGISTRATION = false\nENABLE_CAPTCHA = false\nDEFAULT_KEEP_EMAIL_PRIVATE = false\nDEFAULT_ALLOW_CREATE_ORGANIZATION = true\nDEFAULT_ENABLE_TIMETRACKING = true\nNO_REPLY_ADDRESS = noreply.localhost\n\n[lfs]\nPATH = /data/git/lfs\n\n[mailer]\nENABLED = false\n\n[openid]\nENABLE_OPENID_SIGNIN = true\nENABLE_OPENID_SIGNUP = true\n\n[cron.update_checker]\nENABLED = false\n\n[repository.pull-request]\nDEFAULT_MERGE_STYLE = merge\n\n[repository.signing]\nDEFAULT_TRUST_MODEL = committer\n\n[oauth2]\nJWT_SECRET = 4G6N3Jl-q-04eOnddkXBIKUYSQODFGFJRCE9vege_zo\n")))}d.isMDXComponent=!0}}]);