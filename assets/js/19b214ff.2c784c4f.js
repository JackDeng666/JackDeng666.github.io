"use strict";(self.webpackChunkying_blog=self.webpackChunkying_blog||[]).push([[674],{7763:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>a,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var t=n(3274),o=n(9128);const i={id:"client-theme-style",sidebar_label:"\u524d\u7aef\u9875\u9762\u6837\u5f0f\u548c\u4e3b\u9898\u5207\u6362",title:"\u524d\u7aef\u9875\u9762\u6837\u5f0f\u548c\u4e3b\u9898\u5207\u6362"},a=void 0,s={id:"ying-chat/client-theme-style",title:"\u524d\u7aef\u9875\u9762\u6837\u5f0f\u548c\u4e3b\u9898\u5207\u6362",description:"\u672c\u8282\u6765\u628a\u6574\u4e2a\u524d\u7aef\u7684\u9875\u9762\u6837\u5f0f\u5b8c\u5584\u4e00\u4e0b\uff0c\u518d\u628a\u4e3b\u9898\u5207\u6362\u7684\u903b\u8f91\u52a0\u4e0a\u3002",source:"@site/docs/ying-chat/05-client-theme-style.md",sourceDirName:"ying-chat",slug:"/ying-chat/client-theme-style",permalink:"/docs/ying-chat/client-theme-style",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{id:"client-theme-style",sidebar_label:"\u524d\u7aef\u9875\u9762\u6837\u5f0f\u548c\u4e3b\u9898\u5207\u6362",title:"\u524d\u7aef\u9875\u9762\u6837\u5f0f\u548c\u4e3b\u9898\u5207\u6362"},sidebar:"yingChat",previous:{title:"react-router-dom \u642d\u5efa\u9875\u9762",permalink:"/docs/ying-chat/react-router-dom"},next:{title:"\u63a5\u53e3\u521d\u59cb\u5316",permalink:"/docs/ying-chat/api-init"}},d={},c=[{value:"\u767b\u5f55\u6ce8\u518c\u6837\u5f0f\u5b8c\u5584",id:"\u767b\u5f55\u6ce8\u518c\u6837\u5f0f\u5b8c\u5584",level:3},{value:"\u4e3b\u9898\u5207\u6362",id:"\u4e3b\u9898\u5207\u6362",level:3}];function l(e){const r={a:"a",code:"code",h3:"h3",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.p,{children:"\u672c\u8282\u6765\u628a\u6574\u4e2a\u524d\u7aef\u7684\u9875\u9762\u6837\u5f0f\u5b8c\u5584\u4e00\u4e0b\uff0c\u518d\u628a\u4e3b\u9898\u5207\u6362\u7684\u903b\u8f91\u52a0\u4e0a\u3002"}),"\n",(0,t.jsx)(r.h3,{id:"\u767b\u5f55\u6ce8\u518c\u6837\u5f0f\u5b8c\u5584",children:"\u767b\u5f55\u6ce8\u518c\u6837\u5f0f\u5b8c\u5584"}),"\n",(0,t.jsxs)(r.p,{children:["\u73b0\u5728\u4f7f\u7528 ",(0,t.jsx)(r.code,{children:"NextUI"})," \u7684\u7ec4\u4ef6\u628a\u57fa\u7840\u7684\u8868\u5355\u5199\u51fa\u6765"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",metastring:'title="apps/client/src/pages/account/login.tsx"',children:'import { useNavigate } from \'react-router-dom\'\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Divider,\r\n  Input\r\n} from \'@nextui-org/react\'\r\nimport { CircleUserRound, Lock } from \'lucide-react\'\r\n\r\nexport const Login = () => {\r\n  const navigate = useNavigate()\r\n\r\n  return (\r\n    <div className="h-full flex justify-center items-center">\r\n      <Card className="w-[25rem]">\r\n        <CardHeader>Login</CardHeader>\r\n        <Divider />\r\n        <CardBody>\r\n          <form>\r\n            <Input\r\n              variant="underlined"\r\n              label="loginName"\r\n              autoComplete="loginName"\r\n              endContent={<CircleUserRound />}\r\n            />\r\n            <Input\r\n              label="Password"\r\n              variant="underlined"\r\n              endContent={<Lock />}\r\n              type="password"\r\n              autoComplete="password"\r\n            />\r\n\r\n            <Input label="Code" variant="underlined" maxLength={4} />\r\n\r\n            <div className="flex flex-col gap-4 mt-4">\r\n              <Button color="primary" type="submit">\r\n                Log in\r\n              </Button>\r\n              <Button\r\n                onClick={() => {\r\n                  navigate(\'/register\')\r\n                }}\r\n                variant="ghost"\r\n              >\r\n                Register now\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </CardBody>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",metastring:'title="apps/client/src/pages/account/register.tsx"',children:'import { useNavigate } from \'react-router-dom\'\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Divider,\r\n  Input\r\n} from \'@nextui-org/react\'\r\nimport { CircleUserRound, Mail, Lock } from \'lucide-react\'\r\n\r\nexport const Register = () => {\r\n  const navigate = useNavigate()\r\n\r\n  return (\r\n    <div className="h-full flex justify-center items-center">\r\n      <Card className="w-[25rem]" title="Register">\r\n        <CardHeader>Register</CardHeader>\r\n        <Divider />\r\n        <CardBody>\r\n          <form>\r\n            <Input\r\n              endContent={<CircleUserRound />}\r\n              label="Username"\r\n              autoComplete="new-username"\r\n              variant="underlined"\r\n            />\r\n            <Input endContent={<Mail />} label="Email" variant="underlined" />\r\n            <Input\r\n              endContent={<Lock />}\r\n              type="password"\r\n              label="Password"\r\n              autoComplete="new-password"\r\n              variant="underlined"\r\n            />\r\n            <Input\r\n              endContent={<Lock />}\r\n              type="password"\r\n              label="Input password again"\r\n              autoComplete="off"\r\n              variant="underlined"\r\n            />\r\n\r\n            <Input\r\n              label="Code"\r\n              variant="underlined"\r\n              maxLength={6}\r\n              endContent={\r\n                <Button color="primary" radius="sm">\r\n                  Send Code\r\n                </Button>\r\n              }\r\n            />\r\n\r\n            <div className="flex flex-col gap-4 mt-4">\r\n              <Button color="primary" type="submit">\r\n                Register now\r\n              </Button>\r\n              <Button\r\n                variant="ghost"\r\n                onClick={() => {\r\n                  navigate(\'/login\')\r\n                }}\r\n              >\r\n                Log in now\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </CardBody>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\n'})}),"\n",(0,t.jsx)(r.h3,{id:"\u4e3b\u9898\u5207\u6362",children:"\u4e3b\u9898\u5207\u6362"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"https://nextui.org/docs/customization/dark-mode",children:"NextUI \u6697\u9ed1\u4e3b\u9898\u6587\u6863"})}),"\n",(0,t.jsxs)(r.p,{children:["\u63a5\u4e0b\u6765\u6dfb\u52a0\u6697\u9ed1\u4eae\u8272\u4e3b\u9898\u5207\u6362\u529f\u80fd\uff0cNextUI \u5b98\u65b9\u6587\u6863\u5199\u5f97\u5f88\u96be\u53d7\uff0c\u5b83\u662f\u5728\u7236\u5143\u7d20\u4e0a\u6dfb\u52a0\u4e00\u4e2a ",(0,t.jsx)(r.code,{children:"dark"})," \u5c5e\u6027\u53bb\u5207\u6362\uff0c\u6211\u53c2\u8003 ",(0,t.jsx)(r.code,{children:"shadcn/ui"})," \u7684\u5199\u6cd5\u52a0\u4e86\u4e00\u4e2a\u66f4\u597d\u4f7f\u7684\u3002"]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"https://ui.shadcn.com/docs/dark-mode/vite",children:"shadcn/ui \u6697\u9ed1\u4e3b\u9898\u6587\u6863"})}),"\n",(0,t.jsxs)(r.p,{children:["\u5148\u6dfb\u52a0\u4e00\u4e2a ",(0,t.jsx)(r.code,{children:"ThemeProvider"}),"\u3002"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",metastring:'title="apps/client/src/components/theme-provider.tsx"',children:"import { createContext, useContext, useEffect, useState } from 'react'\r\n\r\ntype Theme = 'dark' | 'light' | 'system'\r\n\r\ntype ThemeProviderProps = {\r\n  children: React.ReactNode\r\n  defaultTheme?: Theme\r\n  storageKey?: string\r\n}\r\n\r\ntype ThemeProviderState = {\r\n  theme: Theme\r\n  setTheme: (theme: Theme) => void\r\n}\r\n\r\nconst initialState: ThemeProviderState = {\r\n  theme: 'system',\r\n  setTheme: () => null\r\n}\r\n\r\nconst ThemeProviderContext = createContext<ThemeProviderState>(initialState)\r\n\r\nexport function ThemeProvider({\r\n  children,\r\n  defaultTheme = 'system',\r\n  storageKey = 'vite-ui-theme',\r\n  ...props\r\n}: ThemeProviderProps) {\r\n  const [theme, setTheme] = useState<Theme>(\r\n    () => (localStorage.getItem(storageKey) as Theme) || defaultTheme\r\n  )\r\n\r\n  useEffect(() => {\r\n    const root = window.document.documentElement\r\n\r\n    root.classList.remove('light', 'dark')\r\n\r\n    if (theme === 'system') {\r\n      const systemTheme = window.matchMedia('(prefers-color-scheme: dark)')\r\n        .matches\r\n        ? 'dark'\r\n        : 'light'\r\n\r\n      root.classList.add(systemTheme)\r\n      return\r\n    }\r\n\r\n    root.classList.add(theme)\r\n  }, [theme])\r\n\r\n  const value = {\r\n    theme,\r\n    setTheme: (theme: Theme) => {\r\n      localStorage.setItem(storageKey, theme)\r\n      setTheme(theme)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <ThemeProviderContext.Provider {...props} value={value}>\r\n      {children}\r\n    </ThemeProviderContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useTheme = () => {\r\n  const context = useContext(ThemeProviderContext)\r\n\r\n  if (context === undefined)\r\n    throw new Error('useTheme must be used within a ThemeProvider')\r\n\r\n  return context\r\n}\n"})}),"\n",(0,t.jsxs)(r.p,{children:["\u7136\u540e\u628a ",(0,t.jsx)(r.code,{children:"ThemeProvider"})," \u6dfb\u52a0\u5230\u6839\u7ec4\u4ef6\uff0c\u628a ",(0,t.jsx)(r.code,{children:"defaultTheme"})," \u8bbe\u7f6e\u6210 ",(0,t.jsx)(r.code,{children:"dark"}),"\u3002"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",metastring:'title="apps/client/src/App.tsx"',children:"import { RouterProvider } from 'react-router-dom'\r\nimport { ThemeProvider } from '@/components/theme-provider'\r\nimport { router } from '@/router'\r\n\r\nfunction App() {\r\n  return (\r\n    <ThemeProvider defaultTheme=\"dark\">\r\n      <RouterProvider router={router}></RouterProvider>\r\n    </ThemeProvider>\r\n  )\r\n}\r\n\r\nexport default App\n"})}),"\n",(0,t.jsxs)(r.p,{children:["\u518d\u6dfb\u52a0\u4e00\u4e2a ",(0,t.jsx)(r.code,{children:"ModeToggle"})," \u7ec4\u4ef6\u3002"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",metastring:'title="apps/client/src/components/mode-toggle.tsx"',children:"import { Moon, Sun } from 'lucide-react'\r\nimport {\r\n  Dropdown,\r\n  DropdownTrigger,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  Button\r\n} from '@nextui-org/react'\r\nimport { useTheme } from '@/components/theme-provider'\r\n\r\nexport function ModeToggle() {\r\n  const { setTheme } = useTheme()\r\n\r\n  return (\r\n    <Dropdown>\r\n      <DropdownTrigger>\r\n        <Button size=\"lg\" isIconOnly>\r\n          <Sun className=\"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\r\n          <Moon className=\"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\r\n        </Button>\r\n      </DropdownTrigger>\r\n      <DropdownMenu aria-label=\"mode menu\">\r\n        <DropdownItem onClick={() => setTheme('light')}>Light</DropdownItem>\r\n        <DropdownItem onClick={() => setTheme('dark')}>Dark</DropdownItem>\r\n        <DropdownItem onClick={() => setTheme('system')}>System</DropdownItem>\r\n      </DropdownMenu>\r\n    </Dropdown>\r\n  )\r\n}\n"})}),"\n",(0,t.jsxs)(r.p,{children:["\u6700\u540e\u628a ",(0,t.jsx)(r.code,{children:"ModeToggle"})," \u7ec4\u4ef6\u653e\u5230 ",(0,t.jsx)(r.code,{children:"NavSidebar"})," \u91cc\u3002"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-tsx",metastring:'title="apps/client/src/components/layout/nav-sidebar.tsx"',children:"// ...\r\nimport { ModeToggle } from '@/components/mode-toggle'\r\n\r\nexport const NavSidebar = () => {\r\n  // ...\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-4 items-center w-[72px] py-4 bg-content1\">\r\n      // ...\r\n      <ModeToggle />\r\n    </div>\r\n  )\r\n}\n"})}),"\n",(0,t.jsx)(r.p,{children:"\u6700\u540e\u67e5\u770b\u4e00\u4e0b\u6548\u679c"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:n(1644).A+"",width:"1920",height:"1080"})})]})}function m(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},1644:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/01-a58d75a7ae4bc12af3f97e51c3481fac.gif"},9128:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>s});var t=n(9474);const o={},i=t.createContext(o);function a(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);