"use strict";(self.webpackChunkying_blog=self.webpackChunkying_blog||[]).push([[2599],{1214:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>o});var d=l(3274),s=l(9128);const r={id:"docker-intro",slug:"/docker",sidebar_label:"Docker",title:"Docker \u5907\u5fd8\u5f55"},c=void 0,n={id:"docker/docker-intro",title:"Docker \u5907\u5fd8\u5f55",description:"\u672c\u6587\u6863\u4e3b\u8981\u7528\u4e8e\u8bb0\u5f55 docker \u7684\u5404\u79cd\u57fa\u672c\u64cd\u4f5c",source:"@site/docs/docker/01-docker.md",sourceDirName:"docker",slug:"/docker",permalink:"/docs/docker",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"docker-intro",slug:"/docker",sidebar_label:"Docker",title:"Docker \u5907\u5fd8\u5f55"},sidebar:"docker",next:{title:"windows",permalink:"/docs/docker/download/windows"}},i={},o=[{value:"\u672c\u6587\u6863\u4e3b\u8981\u7528\u4e8e\u8bb0\u5f55 docker \u7684\u5404\u79cd\u57fa\u672c\u64cd\u4f5c",id:"\u672c\u6587\u6863\u4e3b\u8981\u7528\u4e8e\u8bb0\u5f55-docker-\u7684\u5404\u79cd\u57fa\u672c\u64cd\u4f5c",level:2},{value:"\u53c2\u8003\u8d44\u6599",id:"\u53c2\u8003\u8d44\u6599",level:2},{value:"\u64cd\u4f5c\u901f\u67e5",id:"\u64cd\u4f5c\u901f\u67e5",level:2},{value:"\u6784\u5efa\u955c\u50cf",id:"\u6784\u5efa\u955c\u50cf",level:3},{value:"\u6279\u91cf\u6e05\u9664",id:"\u6279\u91cf\u6e05\u9664",level:3},{value:"\u5377 volume",id:"\u5377-volume",level:3},{value:"Docker Compose",id:"docker-compose",level:3},{value:"Docker Services",id:"docker-services",level:3},{value:"Docker Stack",id:"docker-stack",level:3}];function x(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.h2,{id:"\u672c\u6587\u6863\u4e3b\u8981\u7528\u4e8e\u8bb0\u5f55-docker-\u7684\u5404\u79cd\u57fa\u672c\u64cd\u4f5c",children:"\u672c\u6587\u6863\u4e3b\u8981\u7528\u4e8e\u8bb0\u5f55 docker \u7684\u5404\u79cd\u57fa\u672c\u64cd\u4f5c"}),"\n",(0,d.jsx)(t.h2,{id:"\u53c2\u8003\u8d44\u6599",children:"\u53c2\u8003\u8d44\u6599"}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsx)(t.li,{children:(0,d.jsx)(t.a,{href:"https://docs.docker.com/get-started/",children:"Docker \u5b98\u65b9\u5165\u95e8\u6559\u7a0b"})}),"\n",(0,d.jsx)(t.li,{children:(0,d.jsx)(t.a,{href:"https://jaywcjlove.github.io/docker-tutorial",children:"Docker \u5165\u95e8\u5b66\u4e60\u7b14\u8bb0"})}),"\n"]}),"\n",(0,d.jsx)(t.h2,{id:"\u64cd\u4f5c\u901f\u67e5",children:"\u64cd\u4f5c\u901f\u67e5"}),"\n",(0,d.jsx)(t.h3,{id:"\u6784\u5efa\u955c\u50cf",children:"\u6784\u5efa\u955c\u50cf"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-shell",children:"$ docker build .\r\n$ docker build github.com/creack/docker-firefox\r\n$ docker build - < Dockerfile\r\n$ docker build - < context.tar.gz\r\n$ docker build -t eon/nginx-server .\r\n$ docker build -f myOtherDockerfile .\r\n$ curl example.com/remote/Dockerfile | docker build -f - .\n"})}),"\n",(0,d.jsx)(t.h3,{id:"\u6279\u91cf\u6e05\u9664",children:"\u6279\u91cf\u6e05\u9664"}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{children:"\u5b9e\u4f8b"}),(0,d.jsx)(t.th,{children:"\u8bf4\u660e"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"docker stop -f $(docker ps -a -q)"})}),(0,d.jsx)(t.td,{children:"\u505c\u6b62\u6240\u6709\u5bb9\u5668"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"docker rm -f $(docker ps -a -q)"})}),(0,d.jsx)(t.td,{children:"\u5220\u9664\u6240\u6709\u5bb9\u5668"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"docker rmi -f $(docker images -q)"})}),(0,d.jsx)(t.td,{children:"\u5220\u9664\u6240\u6709\u955c\u50cf"})]})]})]}),"\n",(0,d.jsx)(t.h3,{id:"\u5377-volume",children:"\u5377 volume"}),"\n",(0,d.jsx)(t.p,{children:"\u68c0\u67e5\u5377"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-shell",children:"$ docker volume ls\n"})}),"\n",(0,d.jsx)(t.p,{children:"\u6e05\u7406\u672a\u4f7f\u7528\u7684\u5377"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-shell",children:"$ docker volume prune\n"})}),"\n",(0,d.jsx)(t.h3,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{style:{textAlign:"left"},children:"\u64cd\u4f5c"}),(0,d.jsx)(t.th,{style:{textAlign:"left"},children:"\u4f5c\u7528"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker-compose up"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u521b\u5efa\u548c\u542f\u52a8\u5bb9\u5668"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker-compose up -d"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u4ee5\u5206\u79bb\u6a21\u5f0f\u521b\u5efa\u548c\u542f\u52a8\u5bb9\u5668"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker-compose down"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u505c\u6b62\u548c\u5220\u9664\u5bb9\u5668\u3001\u7f51\u7edc\u3001\u6620\u50cf\u548c\u5377"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker-compose logs"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u67e5\u770b\u5bb9\u5668\u7684\u8f93\u51fa"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker-compose restart"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u91cd\u542f\u6240\u6709\u670d\u52a1"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker-compose pull"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u62c9\u53d6\u6240\u6709\u670d\u52a1\u7684\u955c\u50cf"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker-compose build"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u6784\u5efa\u6240\u6709\u670d\u52a1\u7684\u955c\u50cf"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker-compose config"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u9a8c\u8bc1\u5e76\u67e5\u770b Compose \u6587\u4ef6"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker-compose scale <service_name>=<replica>"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u4e3a\u670d\u52a1\u6307\u5b9a\u5bb9\u5668\u4e2a\u6570"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker-compose top"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u663e\u793a\u6b63\u5728\u8fd0\u884c\u7684\u8fdb\u7a0b"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker-compose run -rm -p 2022:22 web bash"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u542f\u52a8 Web \u670d\u52a1\u5e76\u8fd0\u884c bash \u4f5c\u4e3a\u5176\u547d\u4ee4\uff0c\u5220\u9664\u65e7\u5bb9\u5668"})]})]})]}),"\n",(0,d.jsx)(t.h3,{id:"docker-services",children:"Docker Services"}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{style:{textAlign:"left"},children:":-"}),(0,d.jsx)(t.th,{style:{textAlign:"left"},children:":-"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker service create <options> <image> <command>"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u521b\u5efa\u65b0\u670d\u52a1"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker service inspect --pretty <service_name>"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u663e\u793a\u8be6\u7ec6\u4fe1\u606f\u670d\u52a1"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker service ls"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u5217\u51fa\u670d\u52a1"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker service ps"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u5217\u51fa\u670d\u52a1\u7684\u4efb\u52a1"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker service scale <service_name>=<replica>"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u89c4\u6a21\u7279\u6b8a\u670d\u52a1"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker service update <options> <service_name>"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u66f4\u65b0\u670d\u52a1\u9009\u9879"})]})]})]}),"\n",(0,d.jsx)(t.h3,{id:"docker-stack",children:"Docker Stack"}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{style:{textAlign:"left"},children:":-"}),(0,d.jsx)(t.th,{style:{textAlign:"left"},children:":-"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker stack ls"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u5217\u51fa\u6b64 Docker \u4e3b\u673a\u4e0a\u6240\u6709\u6b63\u5728\u8fd0\u884c\u7684\u5e94\u7528\u7a0b\u5e8f"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker stack deploy -c <composefile> <appname>"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u8fd0\u884c\u6307\u5b9a\u7684 Compose \u6587\u4ef6"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker stack services <appname>"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u5217\u51fa\u4e0e\u5e94\u7528\u5173\u8054\u7684\u670d\u52a1"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker stack ps <appname>"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u5217\u51fa\u4e0e\u5e94\u7528\u5173\u8054\u7684\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"docker stack rm <appname>"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"\u62c6\u6389\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f"})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,d.jsx)(t,{...e,children:(0,d.jsx)(x,{...e})}):x(e)}},9128:(e,t,l)=>{l.d(t,{R:()=>c,x:()=>n});var d=l(9474);const s={},r=d.createContext(s);function c(e){const t=d.useContext(r);return d.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function n(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),d.createElement(r.Provider,{value:t},e.children)}}}]);